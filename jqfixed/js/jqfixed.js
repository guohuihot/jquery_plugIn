/**
* author : ahuing
* date   : 2015-8-7
* name   : jqfixed v1.0
* modify : 2015-8-11 15:42:35
 */
!function(a){function c(c){return this.each(function(){var d=a(this),e=d.data("jqFixed"),f="object"==typeof c&&c;e||(d.data("jqFixed",e=new b(this,f)),e.init())})}var d,b=function(c,d){this.o=a.extend(!0,{},b.defaults,d),this.$self=a(c)};b.defaults={css:{top:0,zIndex:parseInt((new Date).getTime()/1e3)},top:0,bottom:360,close:".btn-close"},b.prototype={init:function(){if(this.$self.length){var l,b=this,c=a(window),d=!-[1]&&!window.XMLHttpRequest,e=c.height(),g=(a("body").height(),d?"absolute":"fixed"),h=b.o,i=h.top||b.$self.offset().top,j=b.$self.outerHeight(!0),k=0;h.css.position=h.css.position||b.$self.css("position"),"absolute"!=h.css.position&&(a("<div></div>").insertBefore(b.$self).css({height:j}),h.css.marginTop=-j),b.$self.find(h.close).click(function(){b.$self.css("display","none"),c.off("scroll.fixed")}),h.css.width=b.$self.width(),h.css.bottom>=0&&(h.css.top=e-h.css.bottom-j,h.css.bottom="auto"),b.$self.css(h.css),c.on("scroll.fixed",function(){clearTimeout(l),l=setTimeout(function(){var a=c.scrollTop()+(!h.top&&h.css.top||0);b.$self.css(a>=i&&{position:g,display:"block",marginTop:0}||h.css).trigger(a>k?"scrollUp":"scrollDown").trigger(a>i?"fixed":"unfixed"),k=a},10)})}}},d=a.fn.jqFixed,a.fn.jqFixed=c,a.fn.jqFixed.Constructor=b,a.fn.jqFixed.noConflict=function(){return a.fn.jqFixed=d,this},a(window).on("load",function(){a(".jqFixed").each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery);